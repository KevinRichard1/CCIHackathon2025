<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>All Submissions</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main class="container">
    <h1>Saved Grant Applications</h1>
    <p>This page shows all submissions saved to localStorage.</p>

    <div id="submissions"></div>
  </main>

  <script>
    const submissions = JSON.parse(localStorage.getItem('grant_app_submissions_v1') || '[]');
    const container = document.getElementById('submissions');

    if (submissions.length === 0) {
      container.innerHTML = "<p><em>No submissions found.</em></p>";
    } else {
      submissions.forEach(app => {
        const div = document.createElement('div');
        div.style.border = '1px solid #ccc';
        div.style.padding = '10px';
        div.style.marginBottom = '10px';
        div.innerHTML = `
          <strong>ID:</strong> ${app.id}<br/>
          <strong>Name:</strong> ${app.applicant.name}<br/>
          <strong>Grant:</strong> ${app.grant.title}<br/>
          <strong>Amount:</strong> $${app.grant.amountRequested}<br/>
          <strong>Submitted:</strong> ${app.submittedAt}<br/>
          <details><summary>Full JSON</summary><pre>${JSON.stringify(app, null, 2)}</pre></details>
        `;
        container.appendChild(div);
      });
    }
  </script>
</body>
</html>